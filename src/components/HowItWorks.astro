---
import { Icon } from 'astro-icon/components';

interface Step {
  title: string;
  description: string;
  icon: string;
}

interface Props {
  steps: Step[];
}

const { steps } = Astro.props;
---

<section class='py-20 bg-gray-50'>
  <div class='container mx-auto px-4'>
    <h2 class='text-3xl md:text-4xl font-bold text-center mb-12'>
      How It Works
    </h2>
    <div class='relative max-w-3xl mx-auto'>
      <div
        class='absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-primary'
      >
      </div>
      {
        steps.map((step, index) => (
          <div
            class={`relative z-10 mb-8 flex items-center ${index % 2 === 0 ? '' : 'flex-row-reverse'}`}
          >
            <div
              class={`flex-1 ${index % 2 === 0 ? 'pr-8 text-right' : 'pl-8'}`}
            >
              <h3 class='text-xl font-semibold mb-2'>{step.title}</h3>
              <p class='text-gray-600'>{step.description}</p>
            </div>
            <div class='flex-shrink-0 w-16 h-16 rounded-full bg-white border-4 border-primary flex items-center justify-center z-10'>
              <Icon name={step.icon} class='w-8 h-8 text-primary' />
            </div>
            <div class='flex-1' />
          </div>
        ))
      }
    </div>
  </div>
</section>
