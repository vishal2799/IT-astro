---
import ServicesMegaMenu from '../sections/ServicesMegaMenu.astro';
import TechnologyMegaMenu from '../sections/TechnologyMegaMenu.astro';
---

<header class='bg-gray-800 text-white p-4'>
  <nav class='flex items-center justify-between'>
    <div class='text-lg font-bold'>YourBrand</div>
    <ul class='flex space-x-6'>
      <!-- Technology Link -->
      <li class='relative group'>
        <button class='hover:opacity-50 cursor-pointer px-3 py-2'
          >Technology</button
        >

        <div
          class='mega-menu absolute top-full mt-2 bg-transparent max-w-none z-50 opacity-0 invisible transition-all transform group-hover:opacity-100 group-hover:visible group-hover:block'
        >
          <TechnologyMegaMenu />
        </div>
      </li>

      <!-- Services Link -->
      <li class='relative group'>
        <button class='hover:opacity-50 cursor-pointer px-3 py-2'
          >Services</button
        >

        <!-- Services Mega Menu -->
        <div
          class='mega-menu absolute left-10 top-full mt-2 bg-transparent rounded-xl shadow-xl max-w-none z-50 opacity-0 invisible transition-all transform group-hover:opacity-100 group-hover:visible group-hover:block'
        >
          <div class='relative p-6'>
            <!-- <div
              class='w-10 h-10 bg-white transform rotate-45 absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-sm'
            >
            </div> -->

            <div class='relative z-10'>
              <ServicesMegaMenu />
            </div>
          </div>
        </div>
      </li>
    </ul>
  </nav>
</header>

<!-- TailwindCSS for mega menu styles -->
<style>
  .mega-menu {
    position: fixed; /* Fix the position relative to the screen */
    left: 0; /* Align to the left of the screen */
    top: 60px; /* Adjust based on your header height */
    width: 100%; /* Make it span the full width */
    z-index: 50; /* Ensure it's on top of other elements */
    visibility: hidden;
    opacity: 0;
    transition:
      opacity 0.3s ease,
      visibility 0s 0.3s;
  }

  /* When the group is hovered, show the mega menu */
  .group:hover .mega-menu {
    visibility: visible;
    opacity: 1;
    transition: opacity 0.3s ease;
  }

  /* Prevent horizontal scrollbar */
  .group:hover .mega-menu {
    overflow-x: hidden; /* Prevent horizontal scroll */
  }

  /* Mega menu arrow */
  .mega-menu .w-10 {
    border-top-left-radius: 2px;
    border-top-right-radius: 2px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }
</style>
